@inherits LayoutComponentBase
@inject NavigationManager Nav
@inject IStringLocalizer<SharedResource> L

<div class="app-shell">
    <nav class="sidebar">
        <div class="sidebar-header">
            <span class="logo">🧪 @L["Title"]</span>
        </div>
        <div class="sidebar-nav">
            <a class="nav-item" href="#level1">
                <span class="icon">💬</span>
                <span>L1: Pure LLM</span>
            </a>
            <a class="nav-item" href="#level2">
                <span class="icon">🎭</span>
                <span>L2: System Prompt</span>
            </a>
            <a class="nav-item" href="#level3">
                <span class="icon">📝</span>
                <span>L3: Few-shot</span>
            </a>
            <a class="nav-item" href="#level4">
                <span class="icon">🧠</span>
                <span>L4: Memory</span>
            </a>
            <a class="nav-item" href="#level6">
                <span class="icon">🔧</span>
                <span>L6: Tools</span>
            </a>
            <a class="nav-item" href="#level7">
                <span class="icon">🤖</span>
                <span>L7: Agent</span>
            </a>
            <a class="nav-item" href="#level8">
                <span class="icon">🌐</span>
                <span>L8: MCP</span>
            </a>
        </div>
        <div class="sidebar-footer">
            <div class="lang-switcher">
                <a href="/Culture/Set?culture=zh-TW&returnUrl=/" class="@(IsCurrentCulture("zh-TW") ? "active" : "")">繁中</a>
                <span>|</span>
                <a href="/Culture/Set?culture=en&returnUrl=/" class="@(IsCurrentCulture("en") ? "active" : "")">EN</a>
            </div>
        </div>
    </nav>

    <main class="main-area">
        <div class="content-area">
            @Body
        </div>
    </main>
</div>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

@code {
    private bool IsCurrentCulture(string culture) =>
        System.Globalization.CultureInfo.CurrentUICulture.Name.StartsWith(culture, StringComparison.OrdinalIgnoreCase);
}
